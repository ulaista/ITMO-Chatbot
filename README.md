# ITMO Chatbot

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
**ITMO Chatbot** ‚Äî —ç—Ç–æ REST API —Å–µ—Ä–≤–∏—Å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ –ò–¢–ú–û. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **GPT**, **–ø–æ–∏—Å–∫ –ø–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (Google Custom Search API)** –∏ **RSS-–Ω–æ–≤–æ—Å—Ç–∏** –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤.

---
## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üìñ –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ **–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö, —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞—Ö, —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö, –∏—Å—Ç–æ—Ä–∏–∏** –ò–¢–ú–û.
- üîé –í—ã–ø–æ–ª–Ω—è–µ—Ç **–ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ** –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- üì∞ –ü–æ–ª—É—á–∞–µ—Ç **–ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏** —á–µ—Ä–µ–∑ RSS ITMO.
- üõ† –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **Docker** –∏ **REST API**.

---
## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **FastAPI** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **OpenAI GPT API** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- **Google Custom Search API** ‚Äî –ø–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **RSS ITMO** ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
- **Docker, Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---
## üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ üîë **–°–æ–∑–¥–∞–Ω–∏–µ API-–∫–ª—é—á–µ–π**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å API-–∫–ª—é—á–∏:
- **OpenAI API Key** (–¥–ª—è GPT-4)
- **Google Custom Search API Key** (–ø–æ–∏—Å–∫ –ø–æ –ò–¢–ú–û)
- **Google Search Engine ID** (–ø–æ–∏—Å–∫–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)

### 2Ô∏è‚É£ üõ† **–°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ:
```ini
OPENAI_API_KEY=your_openai_key
SEARCH_API_KEY=your_google_search_key
SEARCH_ENGINE_ID=your_search_engine_id
```

### 3Ô∏è‚É£ üê≥ **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker**
```sh
docker-compose up -d --build
```

### 4Ô∏è‚É£ üì° **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API**
#### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
```sh
curl http://localhost:8080/docs
```
#### ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å
```sh
curl --location --request POST 'http://localhost:8080/api/request' \
--header 'Content-Type: application/json' \
--data-raw '{
  "query": "–ö–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –µ—Å—Ç—å –≤ –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ –ò–¢–ú–û?",
  "id": 1
}'
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "id": 1,
  "answer": null,
  "reasoning": "–ò–¢–ú–û –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π...",
  "sources": ["https://itmo.ru/", "https://student.itmo.ru/"]
}
```
#### ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π
```sh
curl http://localhost:8080/api/news
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "news": [
    {"title": "–ò–¢–ú–û –≤–æ—à–µ–ª –≤ —Ç–æ–ø-100 –º–∏—Ä–æ–≤—ã—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤", "link": "https://news.itmo.ru/news_1"},
    {"title": "–ù–æ–≤–∞—è AI-–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –≤ –ò–¢–ú–û", "link": "https://news.itmo.ru/news_2"}
  ]
}
```

---
## üìå **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ config.py        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ utils.py         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ logger.py        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ Dockerfile           # –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md            # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

---
## üìå –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –æ–±–ª–∞–∫–µ
–ú–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–µ—Ä–≤–∏—Å –Ω–∞:
- ‚òÅÔ∏è **Heroku**
- ‚òÅÔ∏è **Yandex Cloud**
- ‚òÅÔ∏è **AWS / GCP**

–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Heroku:
```sh
git push heroku main
```

---
## üõ† **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### üîç **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤**
–õ–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `logs/` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ö:
```sh
docker logs itmo-chatbot
```

### üîÑ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞**
```sh
docker-compose restart
```

### üõë **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
```sh
docker-compose down
```
